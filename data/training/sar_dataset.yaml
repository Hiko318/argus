# SAR-specific YOLOv8 Dataset Configuration
# Optimized for Search and Rescue operations with aerial and ground-based detection

path: ../data/training  # dataset root dir
train: images/train  # train images (relative to 'path')
val: images/val      # val images (relative to 'path')
test: images/test    # test images (optional)

# Classes for SAR operations
names:
  0: person          # Primary target for SAR
  1: vehicle         # Cars, trucks, motorcycles
  2: aircraft        # Helicopters, planes, drones
  3: boat           # Watercraft of various sizes
  4: structure      # Buildings, tents, shelters
  5: debris         # Rubble, wreckage
  6: equipment      # SAR equipment, tools
  7: animal         # Livestock, pets
  8: signal         # Flares, mirrors, flags
  9: clothing       # Visible clothing items

# Dataset statistics (to be updated after preparation)
download: |
  # SAR Dataset preparation script
  # This dataset combines:
  # - Aerial imagery (drone perspective)
  # - Ground-level imagery (rescue team perspective)
  # - Challenging conditions (water, rubble, occlusion)
  # - Augmented scenarios for robustness
  
  echo "Preparing SAR dataset..."
  echo "Classes: person, vehicle, aircraft, boat, structure, debris, equipment, animal, signal, clothing"
  echo "Scenarios: aerial, ground, water, rubble, occlusion"

# Training hyperparameters optimized for SAR
hyperparameters:
  lr0: 0.01          # initial learning rate
  lrf: 0.01          # final OneCycleLR learning rate (lr0 * lrf)
  momentum: 0.937    # SGD momentum/Adam beta1
  weight_decay: 0.0005  # optimizer weight decay
  warmup_epochs: 3.0    # warmup epochs
  warmup_momentum: 0.8  # warmup initial momentum
  warmup_bias_lr: 0.1   # warmup initial bias lr
  box: 0.05          # box loss gain
  cls: 0.5           # cls loss gain
  cls_pw: 1.0        # cls BCELoss positive_weight
  obj: 1.0           # obj loss gain (scale with pixels)
  obj_pw: 1.0        # obj BCELoss positive_weight
  iou_t: 0.20        # IoU training threshold
  anchor_t: 4.0      # anchor-multiple threshold
  fl_gamma: 0.0      # focal loss gamma
  hsv_h: 0.015       # image HSV-Hue augmentation (fraction)
  hsv_s: 0.7         # image HSV-Saturation augmentation (fraction)
  hsv_v: 0.4         # image HSV-Value augmentation (fraction)
  degrees: 0.0       # image rotation (+/- deg)
  translate: 0.1     # image translation (+/- fraction)
  scale: 0.5         # image scale (+/- gain)
  shear: 0.0         # image shear (+/- deg)
  perspective: 0.0   # image perspective (+/- fraction)
  flipud: 0.0        # image flip up-down (probability)
  fliplr: 0.5        # image flip left-right (probability)
  mosaic: 1.0        # image mosaic (probability)
  mixup: 0.0         # image mixup (probability)
  copy_paste: 0.0    # segment copy-paste (probability)

# SAR-specific augmentation settings
sar_augmentation:
  weather_conditions:
    - fog
    - rain
    - snow
    - bright_sun
    - low_light
  
  environmental_challenges:
    - water_reflection
    - rubble_occlusion
    - vegetation_cover
    - shadow_variation
    - altitude_perspective
  
  target_scenarios:
    - single_person
    - group_people
    - partially_occluded
    - distant_targets
    - emergency_signals

# Evaluation metrics for SAR effectiveness
metrics:
  primary:
    - mAP@0.5          # Mean Average Precision at IoU 0.5
    - mAP@0.5:0.95     # Mean Average Precision at IoU 0.5-0.95
    - recall@0.5       # Recall at IoU 0.5
  
  distance_bins:
    - recall@0-50m     # Close range detection
    - recall@50-200m   # Medium range detection
    - recall@200m+     # Long range detection
  
  performance:
    - inference_fps    # Frames per second
    - model_size_mb    # Model size in megabytes
    - gpu_memory_mb    # GPU memory usage

# Training configuration
training:
  epochs: 100
  batch_size: 16
  image_size: 1280
  device: 0          # GPU device (0 for first GPU, cpu for CPU)
  workers: 8         # Number of worker threads
  project: runs/train
  name: sar_yolov8
  exist_ok: false
  pretrained: true
  optimizer: SGD
  verbose: true
  seed: 0
  deterministic: true
  single_cls: false
  rect: false
  cos_lr: false
  close_mosaic: 10
  resume: false
  amp: true          # Automatic Mixed Precision
  fraction: 1.0
  profile: false
  freeze: null
  multi_scale: false
  overlap_mask: true
  mask_ratio: 4
  dropout: 0.0
  val: true
  split: val
  save_json: false
  save_hybrid: false
  conf: null
  iou: 0.7
  max_det: 300
  half: false
  dnn: false
  plots: true
  source: null
  vid_stride: 1
  stream_buffer: false
  visualize: false
  augment: false
  agnostic_nms: false
  retina_masks: false
  format: torchscript
  keras: false
  optimize: false
  int8: false
  dynamic: false
  simplify: false
  opset: null
  workspace: 4
  nms: false
  lr0: 0.01
  lrf: 0.01
  momentum: 0.937
  weight_decay: 0.0005
  warmup_epochs: 3.0
  warmup_momentum: 0.8
  warmup_bias_lr: 0.1
  box: 0.05
  cls: 0.5
  dfl: 1.5
  pose: 12.0
  kobj: 1.0
  label_smoothing: 0.0
  nbs: 64
  hsv_h: 0.015
  hsv_s: 0.7
  hsv_v: 0.4
  degrees: 0.0
  translate: 0.1
  scale: 0.5
  shear: 0.0
  perspective: 0.0
  flipud: 0.0
  fliplr: 0.5
  mosaic: 1.0
  mixup: 0.0
  copy_paste: 0.0
  auto_augment: randaugment
  erasing: 0.4
  crop_fraction: 1.0
  bgr: 0.0